{% extends '../CommonAdmin/EditAction/EditBuilderAction.php.twig' %}

{% block orm_use %}
use \PropelException;
{% endblock %}

{% block getObject -%}
    protected function getObject($pk, $version = null)
    {
        return \{{ model }}Query::create()->findPk($pk);
    }
{% endblock %}

{% block saveObject -%}
    protected function saveObject(\{{ model }} ${{ builder.ModelClass }})
    {
        ${{ builder.ModelClass }}->save();
    }
{% endblock %}
    
{% block getVersions %}{% endblock %}
{% block setVersions %}{% endblock %}
{% block saveVersion %}{% endblock %}

{% block checkObjectLock -%}
{% if lock_mode is not null -%}
    if ($object->isLastVersion()) {
        throw new PropelException('Cannot write to outdated object version.');
    }
{%- endif %}
{% endblock %}

{% block lockException %}PropelException{% endblock %}